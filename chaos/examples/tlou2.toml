#-----------------------------------------------------------------------------
# Twitch Controls Chaos (TCC)
# Copyright 2021 The Twitch Controls Chaos developers. See the AUTHORS file
# at the top-level directory of this distribution for contributor details.
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <https://www.gnu.org/licenses/>.
#-----------------------------------------------------------------------------
#
# Configuration file for the TCC engine. It defines the operation for a single
# game.


# chaos_toml: A version string for the TOML file format. Currently used only to
# verify that we're reading the right file.
chaos_toml = "1.0"

# game: User-friendly name of the game this configuration file defines.
game = "The Last of Us Part II"

# log_file: Name of the log file. Default = "chaos.log"
log_file = "chaos.log"

# log_verbosity: Level of message detail sent to the log file. Must be an
# integer from 0 to 6. Higher numbers include all messages of the lower types.
# 0 = NONE (logging disabled)
# 1 = FATAL
# 2 = ERROR
# 3 = WARNING
# 4 = INFO
# 5 = DEBUG
# 6 = VERBOSE
log_verbosity = 5
# max_log_size: maximum log-file size in bytes
max_log_size = 1000000
# max_log_files: maximum number of log files to keep (0 = disable log rolling)
max_log_files = 8

# Chaos Engine parameters
TIME_PER_MODIFIER = 30.0

# These parameters control the formula to convert from touchpad to axis events
# based on the change in axis value over time (derivative).
# The base formula is SCALE * derivative +/- skew, where the sign of the
# skew is the same sign as the derivative. This result is then clipped to the
# limits of the joystick value.
#
# If the SCALE_ON condition is defined, the value of SCALE is replaced with the
# value of SCALE_IF. If the condition is false, or if SCALE_ON is not defined,
# then SCALE is used.
[touchpad]
# SCALE_ON defines a condition which, if true, uses SCALE_IF to scale the derviative.
# The SCALE_ON value must be a defined command.
SCALE_ON = "aiming"
SCALE_IF = 0.04
SCALE = 0.12
SKEW = 30

#-----------------------------------------------------------------------------
# Command Mapping
#
# This section defines the commands that this game supports, or at least the
# ones that we can interect and modify. This mapping allows to support
# modifiers that do the right thing even when controller buttons are remapped.
# There are three parts to each command definition: 
# name -- The label used to refer to the action in the modifiers
# context -- A particular game state that must be true for the specific
# controller event to have the assigned meanings. An individual command can
# be set to a state by declaring state = TRUE. If non context is defined,
# the command applies in the default situation (independent of other button
# presses, etc.
# Note that 
[[command]]
name = "grab/interact"
binding = "TRIANGLE"

[[command]]
name = "crouch/prone"
binding = "CIRCLE"

[[command]]
name = "jump/climb"
binding = "X"

[[command]]
name = "melee"
binding = "SQUARE"

[[command]]
name = "dodge/sprint"
binding = "L1"

[[command]]
name = "aiming"
binding = "L2"

[[command]]
name = "swap/listen"
binding = "R1"

[[command]]
name = "reload/toss"
binding = "R2"

[[command]]
name = "look"
binding = "L3"

[[command]]
name = "flashlight"
binding = "R3"

[[command]]
name = "backpack"
binding = "TOUCHPAD"

[[command]]
name = "move sideways"
binding = "LX"

[[command]]
name = "move forward/back"
binding = "LY"

[[command]]
name = "horizontal camera"
binding = "RX"

[[command]]
name = "vertical camera"
binding = "RY"

[[command]]
name = "select weapon"
binding = "DX"

[[command]]
name = "select consumable"
binding = "DY"

[[command]]
name = "scope"
condition = "aiming"
binding = "X"

# attach silencer / toggle fire mode / swap ammo
[[command]]
name = "weapon feature"
condition = "aiming"
binding = "TRIANGLE"

[[command]]
name = "shoulder swap"
condition = "aiming"
binding = "SQUARE"

[[command]]
name = "shoot/throw"
condition = "aiming"
binding = "R2"

[[command]]
name = "hold breath"
condition = "aiming"
binding = "L3"

# Gamestate Conditions
[[gamestate]]
name = "gun selected"
trueOn = "select weapon"
falseOn = "select consumable"

[[gamestate]]
name = "consumable selected"
trueOn = "select consumable"
falseOn = "select weapon"

# Gameplay Modifiers
[[modifier]]
name = "No Melee"
description = "Disable melee attacks and stealth kills"
type = "disable"
appliesTo = [ "melee" ]

[[modifier]]
name = "Melee Only"
description = "No shooting and no throwables"
type = "disable"
appliesTo = [ "reload/toss" ]

[[modifier]]
name = "Pacifist%"
description = "No shooting, throwing, or melee. Good luck, NPC friends!"
type = "disable"
appliesTo = [ "melee", "reload/toss" ]

[[modifier]]
name = "No Climbing/Jumping"
description = "No climbing or jumping"
type = "disable"
appliesTo = [ "jump/climb" ]

[[modifier]]
name = "No Grab"
description = "Swiper no swiping! No looting, stealth grabbing, opening doors. Say goodbye to the everything button."
type = "disable"
appliesTo = [ "grab/interact" ]

[[modifier]]
name = "No Crouch/Prone"
description = "Crouching/going prone is disabled"
type = "disable"
appliesTo = [ "crouch/prone" ]
disableOnStart = true

[[modifier]]
name = "No Run/Dodge"
description = "L1 is disabled"
type = "disable"
appliesTo = [ "dodge/sprint" ]

[[modifier]]
name = "No Aiming"
description = "At least reloading is still possible, along with throwables and melee"
type = "disable"
appliesTo = [ "aiming" ]

[[modifier]]
name = "No Horizontal Aim"
description = "The horizontal camera is disabled"
type = "disable"
appliesTo = [ "horizontal camera" ]

[[modifier]]
name = "No Scoping"
description = "No scopes! Aiming is still allowed"
type = "disable"
appliesTo = [ "scope" ]

[[modifier]]
name = "No Shoulder Swap"
description = "While aiming, Square is disabled"
type = "disable"
appliesTo = [ "shoulder swap" ]

[[modifier]]
name = "No Reloading"
description = "If guns were last selected, R2 is disabled without L2"
type = "disable"
appliesTo = [ "reload/toss" ]
gamestate = [ "gun selected" ]
unless = [ "aiming" ]

[[modifier]]
name = "Disable Camera"
description = "Good luck with aiming and looking around!"
type = "disable"
appliesTo = [ "vertical camera", "horizontal camera" ]

[[modifier]]
name = "Disable D-pad"
description = "Inventory selection is disabled"
type = "disable"
appliesTo = [ "select weapon", "select consumable" ]

[[modifier]]
name = "Moose"
description = "The moose is dead. The moose does not move. (Disables movement)"
type = "disable"
appliesTo = [ "move forward/back", "move sideways" ]

[[modifier]]
name = "Only Strafe Movement"
description = "Side-to-side movement is disabled. Only forward/back motion is allowed."
type = "disable"
appliesTo = [ "move sideways" ]

[[modifier]]
name = "No Strafing"
description = "Forwards/back movement is disabled. Only side-to-side motion is allowed."
type = "disable"
appliesTo = [ "move forward/back" ]

[[modifier]]
name = "Only Aim Movement"
description = "Movement is disabled if not aiming"
type = "disable"
appliesTo = [ "move forward/back", "move sideways" ]
unless = [ "aiming" ]

[[modifier]]
name = "No Aim Movement"
description = "Movement is disabled if aiming"
type = "disable"
appliesTo = [ "move forward/back", "move sideways" ]
condition = [ "aiming" ]

[[modifier]]
name = "No Aiming Camera"
description = "Camera is disabled if aiming"
type = "disable"
appliesTo = [ "vertical camera", "horizontal camera" ]
condition = [ "aiming" ]

[[modifier]]
name = "Nascar"
description = "There is no going right in Nascar. Right movement/camera disabled"
type = "disable"
appliesTo = [ "move sideways", "horizontal camera" ]
filter = "above"

[[modifier]]
name = "Zoolander"
description = "We are not an ambiturner, but at least we can look right. Left movement/camera disabled."
type = "disable"
appliesTo = [ "move sideways", "horizontal camera" ]
filter = "below"

[[modifier]]
name = "No Backward Movement"
description = "Moving backwards is not allowed"
type = "disable"
appliesTo = [ "move forward/back" ]
filter = "above"

[[modifier]]
name = "No Forward Movement"
description = "Moving forward is not allowed"
type = "disable"
appliesTo = [ "move forward/back" ]
filter = "below"

[[modifier]]
name = "No Gun Selection"
description = "No picking a new gun"
type = "disable"
appliesTo = [ "select weapon" ]
disableOnStart = true
[[modifier.begin]] 
event= "press"
command = "select consumable"
value = 1


[[modifier]]
name = "No Short Guns"
description = "D-Pad Right Disabled"
type = "disable"
filter = "positive"
appliesTo = [ "select weapon" ]
disableOnStart = true
[[modifier.begin]]
event = "press"
command = "select consumable"
value = 1

[[modifier]]
name = "No Long Guns"
description = "D-Pad Left Disabled"
type = "disable"
filter = "negative"
appliesTo = [ "select weapon" ]
disableOnStart = true
[[modifier.begin]]
event = "press"
command = "select consumable"
value = 1

[[modifier]]
name = "No Consumables"
description = "Selection of consumables (brick, bottle, med kit, molly, etc.) Disabled"
type = "disable"
appliesTo = [ "select consumable" ]
disableOnStart = true
[[modifier.begin]]
event = "press"
command = "select weapon"
value = 1

[[modifier]]
name = "Inverted"
description = "Inverts the vertical axis for aiming"
type = "formula"
magnitude = -1
appliesTo = [ "vertical camera" ]

[[modifier]]
name = "Moonwalk"
description = "Be like Michael Jackson! Trying to walk forward will actually make you go backward"
type = "formula"
magnitude = -1
appliesTo = [ "move forward/back" ]

[[modifier]]
name = "Sideways Moonwalk"
description = "Go left to go right and go right to go left"
type = "formula"
magnitude = -1
appliesTo = [ "move sideways" ]

[[modifier]]
name = "Keep Proning"
description = "Proning at inconvenient times"
type = "repeat"
appliesTo = [ "crouch/prone" ]
timeOn = 2.0
timeOff = 2.0

[[modifier]]
name = "Factions Pro"
description = "Keeping things toxic with teabagging"
type = "repeat"
appliesTo = [ "crouch/prone" ]
timeOn = 0.1
timeOff = 0.6

[[modifier]]
name = "Anthony Caliber"
description = "Flashlight flickering"
type = "repeat"
appliesTo = [ "flashlight" ]
timeOn = 0.066667
timeOff = 0.089583
cycle = 8
delay = 4.0

[[modifier]]
name = "Keep Jumping"
description = "Repeated presses of X"
type = "repeat"
appliesTo = [ "jump/climb" ]
timeOn = 0.1
timeOff = 2.0

[[modifier]]
name = "Rachy Flail"
description = "The only way to melee is to follow the master techniques of RachyMonster"
type = "repeat"
appliesTo = [ "melee" ]
timeOn = 0.1
timeOff = 1.1

[[modifier]]
name = "Keep Dodging"
description = "Repeaated dodges. Don't stand too near a ledge"
type = "repeat"
appliesTo = [ "dodge/sprint" ]
timeOn = 0.1
timeOff = 2.0

[[modifier]]
name = "Periodic Listen Mode"
description = "Repeated holds of R1"
type = "repeat"
appliesTo = [ "swap/listen" ]
timeOn = 3.0
timeOff = 8.0

[[modifier]]
name = "Force Running"
description = "To move is to run (mostly)"
type = "repeat"
appliesTo = [ "dodge/sprint" ]
timeOn = 4.0
timeOff = 0.1
forceOn = true # this seems sus for the off period

[[modifier]]
name = "Bad Stamina"
description = "Running gets disabled after 2 seconds and takes 4 seconds to recharge"
type = "cooldown"
appliesTo = [ "dodge/sprint" ]
timeOn = 2.0
timeOff = 4.0

[[modifier]]
name = "Leeroy Jenkins"
description = "Alright let's do this! LEEEEROOOOOY NNNJEEEENNKIINNS!!! (Holds forward and sprint)"
type = "repeat"
appliesTo = [ "dodge/sprint", "move forward/backwards" ]
timeOn = 4.0
timeOff = 0.1
foceOn = true # same question if necessary as above
axisVal = "MAX"

[[modifier]]
name = "Force Aiming"
description = "The aiming button is held"
type = "repeat"
appliesTo = [ "aiming" ]
timeOn = 4.0
timeOff = 0.1
forceOn = true

[[modifier]]
name = "D-pad Rotate"
description = "Rotates the D-pad inputs clockwise"
type = "remap"
remap = [
      {from = "DX", to = "DY"},
      {from = "DY", to = "DX", invert = true} ]

[[modifier]]
name = "Swap Joysticks"
description = "You may want to cross your thumbs to work with your muscle memory"
type = "remap"
remap = [
      {from = "RX", to = "LX"},
      {from = "RY", to = "LY"},
      {from = "LX", to = "RX"},
      {from = "LY", to = "RY"} ]

[[modifier]]
name = "Swap D-Pad/Left Joystick"
description = "Retro-style motion and an odd analog inventory selector"
type = "remap"
signals = [ "LX", "LY" ]
disableOnStart = true
remap = [
      {from = "DX", to = "LX"},
      {from = "DY", to = "LY"},
      {from = "LX", to = "DX"},
      {from = "LY", to = "DY"} ]

[[modifier]]
name = "Swap Shapes/Right Joystick"
description = "Analog actions and digital camera movement"
type = "remap"
signals = [ "RX", "RY" ]
disableOnStart = true
remap = [
      {from = "RX", to = "SQUARE", to_neg = "CIRCLE", threshold=64},
      {from = "RY", to = "X", to_neg = "TRIANGLE", threshold=64},
      {from = "SQUARE", to = "RX", to_min = true},
      {from = "CIRCLE", to = "RX"},
      {from = "TRIANGLE", to = "RY", to_min = true},
      {from = "X", to = "RY"},
      ]

[[modifier]]
name = "Motion Control Movement"
description = "No more movement with the joystick. Tilt the controller to move instead."
type = "remap"
remap = [
      {from = "ACCX", to = "LX", scale=20},
      {from = "ACCZ", to = "LY", scale=20},
      {from = "LX", to = "NOTHING"},
      {from = "LY", to = "NOTHING"}
      ]

[[modifier]]
name = "Motion Control Aiming"
description = "No more aiming with the joystick. Tilt the controller to aim/look instead."
type = "remap"
remap = [
      {from = "ACCX", to = "RX", scale=24},
      {from = "ACCZ", to = "RY", scale=24},
      {from = "RX", to = "NOTHING"},
      {from = "RY", to = "NOTHING"}
      ]

[[modifier]]
name = "Touchpad Aiming"
description = "No more aiming with the joystick. Finally making use of the touchpad!"
type = "remap"
signals = [ "RX", "RY" ]
remap = [
      {from = "TOUCHPAD_ACTIVE", to="NOTHING"},
      {from = "TOUCHPAD_X", to="RX"},
      {from = "TOUCHPAD_Y", to="RY"},
      {from = "RX", to="NOTHING"},
      {from = "RY", to="NOTHING"}
      ]

[[modifier]]
name = "Controller Mirror"
description = "Left and right joysticks are swapped. R2 is now L2. Circle is D-pad left, etc."
type = "remap"
remap = [
      {from = "LX", to = "RX"},
      {from = "LY", to = "RY"},
      {from = "RX", to = "LX"},
      {from = "RY", to = "LY"},
      {from = "DX", to = "SQUARE", to_neg = "CIRCLE"},
      {from = "DY", to = "X", to_neg = "TRIANGLE"},
      {from = "R1", to = "L1"},
      {from = "L1", to = "R1"},
      {from = "L2", to = "R2"},
      {from = "R2", to = "L2"},
      {from = "SQUARE", to = "DX", to_min = true},
      {from = "CIRCLE", to = "DX"},
      {from = "TRIANGLE", to = "DY", to_min = true},
      {from = "X", toMax = "DY"} ]

[[modifier]]
name = "Controller Flip"
description = "Up is down. Joysticks and D-pad inverted vertially, L1 swapped with L2, Triangle swapped with X, etc."
type = "remap"	
remap = [
      {from = "DY", to = "DY", invert = true},
      {from = "LY", to = "LY", invert = true},
      {from = "RY", to = "RY", invert = true},
      {from = "R1", to = "R2"},
      {from = "L1", to = "L2"},
      {from = "R2", to = "R1"},
      {from = "L2", to = "L1"},
      {from = "TRIANGLE", to = "X"},
      {from = "X", to = "TRIANGLE"}
      ]

[[modifier]]
name = "Shape Shuffle"
description = "Randomly remaps the shape buttons (square, circle, triangle, X)"
type = "remap"
random_remap = [ "X", "SQUARE", "CIRCLE", "TRIANGLE" ]

[[modifier]]
name = "Random Remap"
description = "Randomly remaps buttons (square, circle, triangle, X, L1, R1, L2, R2, L3, R3)"
type = "remap"
random_remap = [ "X", "SQUARE", "CIRCLE", "TRIANGLE", "L1", "L2", "L3", "R1", "R2", "R3" ]
	
[[modifier]]
name = "Trigger Remap"
description = "Randomly remaps trigger/bumper buttons (L1, R1, L2, R2)"
type = "remap"	
random_remap = [ "L1", "L2", "R1", "R2" ]

[[modifier]]
name = "Drunk"
description = "Random joystick motion. Also don't push things too far, or you may stumble (go prone)"
type = "formula"
appliesTo = [ "move sideways", "move forward/back", "horizontal camera", "vertical camera"  ]
offsetMagnitute = 78
offsetPeriod = 2.0
onMinMax = [ "crouch/prone" ]
minMaxLength = 1.0

[[modifier]]
name = "TLOU1 Run Glitch"
description = "Is this an Any% speedrun of TLOU1? Rapid D-pad circular presses. Try moving while prone."
type = "formula"
offsetMagnitute = 1.5
#appliesTo = [ "DX", "DY" ]

[[modifier]]
name = "Mega Scope Sway"
description = "Good luck landing shots"
type = "formula"
appliesTo = [ "horizontal camera", "vertical camera" ]
condition = "aiming"
offsetMagnitude = 4.0 # sin(((t+1.6)*i )*4.0) * JOYSTICK_MAX
timerAmp = 3.0

[[modifier]]
name = "Only Prone Diving"
description = "RIP elbows and knees. Any movement results in a prone dive"
type = "sequence"
blockInSequence = [ "dodge/listen", "crouch/prone" ]
startTime = 0.0
cycleTime = 1.4
[[modifier.watchdog]]
triggerOn = [ "move forward/back", "move sideways" ]	
triggerTheshold = 0.2 # specified as a fraction of maximum delection 
[[modifier.sequence]]
command = "dodge/listen"
applyIf = 0
value = 1
timeToNext = 0.1
[[modifier.sequence]]
command = "crouch/prone"
applyIf = 0
value = 1
timeToNext = 0.9
[[modifier.sequence]]
command = "crouch/prone"
value = 0
timeToNext = 1.4
ifVal = 1

[[modifier]]
name = "Rubbernecking"
description = "Woah! What's behind you? Invokes periodic 180 quick turn"
type = "sequence"
blockInSequence = [ "jump/climb", "aiming", "move forward/back", "move sideways" ]
startTime = 6.0
cycleTime = 6.2
[[modifier.sequence]]
command = "jump/climb"
value = 0
timeToNext = 6.0
[[modifier.sequence]]
command = "aiming"
value = 0
timeToNext = 6.0
[[modifier.sequence]]
command = "move forward/back"
value = 127 # JOYSTICK_MAX
timeToNext = 6.0
[[modifier.sequence]]
command = "move sideways"
value = 0
timeToNext = 6.0
[[modifier.sequence]]
command = "jump/climb"
value = 1
timeToNext = 6.1
[[modifier.sequence]]
command = "jump/climb"
value = 0
timeToNext = 6.2
	

[[modifier]]
name = "Max Sensitivity"
description = "Goodbye precision aiming. Joystick postions multiplied by 5"
type = "multiply"
appliesTo = [ "move sideways", "move forward/back", "horizontal camera", "vertical camera"  ]
scaling = 5.0

[[modifier]]
name = "Min Sensitivity"
description = "It is like slomo, but not for the enemies.  Joystick positions divided by 2.5"
type = "multiply"
appliesTo = [ "move sideways", "move forward/back", "horizontal camera", "vertical camera"  ]
scaling = 0.4

[[modifier]]
name = "Restart Checkpoint"
description = "Best served prior to the end of a long encounter"
type = "menu"
value = "RESTART_CHECKPOINT"

[[modifier]]
name = "No Reticle"
description = "Headshots just got trickier"
type = "menu"
group = "UI"
value = "HUD_RETICLE"
enable = -2
disable = 2

[[modifier]]
name = "No Inventory HUD"
description = "Blind weapon and throwable selection"
type = "menu"
group = "UI"
value = "HUD_WEAPON_CROSS"
enable = -1
disable = 1

[[modifier]]
name = "No Damage Indicators"
description = "Locating the source of damage will be harder"
type = "menu"
group = "UI"
value = "HUD_DAMAGE_INDICATORS"
enable = -1
disable = 1

[[modifier]]
name = "No Awareness Indicators"
description = "Stealth strats have no visual feedback"
type = "menu"
group = "UI"
value = "HUD_AWARENESS_INDICATORS"
enable = -2
disable = 1

[[modifier]]
name = "No Hit Markers"
description = "No feedback on connected shots"
type = "menu"
group = "UI"
value = "HUD_HIT_MARKERS"
enable = -2
disable = 2

[[modifier]]
name = "No Arc Throw Paths"
description = "The trajectory of your throwable will now be based on feel"
type = "menu"
group = "UI"
value = "HUD_ARC_THROW_PATH"
enable = -1
disable = 1

[[modifier]]
name = "No Health HUD"
description = "The health and weapon HUD int he lower right is disabled"
type = "menu"
group = "UI"
value = "HUD_HEALTH_AND_WEAPON"
enable = -1
disable = 1

[[modifier]]
name = "Show Pickups"
description = "Enables the HUD that shows notifications on ammo, crafting, and other pickups"
type = "menu"
value = "HUD_PICK_UP_NOTIFICATIONS"
enable = 1
disable = -1

[[modifier]]
name = "Large Subtitles"
description = "The ability to read subtitles even at 160p"
type = "menu"
group = "UI"
value = "SUBTITLES_SIZE"
enable = 2
disable = -1

# Render Modes:
[[modifier]]
name = "Graphic"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_GRAPHIC"

[[modifier]]
name = "Headache"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_HEADACHE"

[[modifier]]
name = "Afterlife"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_AFTERLIFE"

[[modifier]]
name = "8-Bit"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_EIGHTBIT"

[[modifier]]
name = "Water Color"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_WATERCOLOR"

[[modifier]]
name = "Dungeon"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_DUNGEON"

[[modifier]]
name = "Void"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_VOID"

[[modifier]]
name = "Pop Poster"
description = "Stream Destroyer.  This kills the bitrate"
type = "menu"
group = "render mode"
value = "RENDER_POPPOSTER"

[[modifier]]
name = "1960"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_NINETEENSIXTY"

[[modifier]]
name = "Cool"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_COOL"

[[modifier]]
name = "Warm"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_WARM"

[[modifier]]
name = "Vibrant"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_VIBRANT"

[[modifier]]
name = "Noir"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_NOIR"

[[modifier]]
name = "Blorange"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_BLORANGE"

[[modifier]]
name = "Sepia"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_SEPIA"

[[modifier]]
name = "Vintage"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_VINTAGE"

[[modifier]]
name = "Beasts"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_BEASTS"

[[modifier]]
name = "Terminated"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_TERMINATED"

[[modifier]]
name = "Gridlocked"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_GRIDLOCKED"

[[modifier]]
name = "Blacklight"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_BLACKLIGHT"

[[modifier]]
name = "Desert Fog"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_DESERT_FOG"

[[modifier]]
name = "Blood"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_BLOOD"

[[modifier]]
name = "Inferno"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_INFERNO"

[[modifier]]
name = "Fire"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_FIRE"

[[modifier]]
name = "Trinity"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_TRINITY"

[[modifier]]
name = "Pusher"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_PUSHER"

[[modifier]]
name = "Demons"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_DEMONS"

[[modifier]]
name = "Drug Zone"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_DRUGZONE"

[[modifier]]
name = "Moonlight"
description = "Render Mode"
type = "menu"
group = "render mode"
value = "RENDER_MOONLIGHT"

[[modifier]]
name = "Mirror World"
description = "Wait, where do we go?"
type = "menu"
value = "GAMEPLAY_MIRROR"

[[modifier]]
name = "Mirror On Death"
description = "Mirror World on Death. Can result in permanent Mirror World."
type = "menu"
value = "GAMEPLAY_MIRROR_ON_DEATH"

[[modifier]]
name = "Slow Motion"
description = "The speed run killer"
type = "menu"
value = "GAMEPLAY_SLOW_MOTION"

[[modifier]]
name = "Bullet Speed"
description = "Slow motion when aiming"
type = "menu"
group = "buff"
value = "GAMEPLAY_BULLET_SPEED"

[[modifier]]
name = "Infinite Ammo"
description = "The strimmer responds with <3"
type = "menu"
group = "buff"
value = "GAMEPLAY_INFINITE_AMMO"
	
[[modifier]]
name = "Infinite Crafting"
description = "Molotovs for everyone!"
type = "menu"
group = "buff"
value = "GAMEPLAY_INFINITE_CRAFT"

[[modifier]]
name = "Infinite Melee Durability"
description = "Finally realistic durability"
type = "menu"
group = "buff"
value = "GAMEPLAY_INFINITE_MELEE_DURABILTY"

[[modifier]]
name = "Infinite Listen Range"
description = "There used to be a limit?"
type = "menu"
group = "buff"
value = "GAMEPLAY_INFINITE_LISTEN_RANGE"

[[modifier]]
name = "One Shot"
description = "Golden guns activated"
type = "menu"
group = "buff"
value = "GAMEPLAY_ONE_SHOT"
	
[[modifier]]
name = "Touch Of Death"
description = "Golden fists activated. One hit enemy deaths"
type = "menu"
group = "buff"
value = "GAMEPLAY_TOUCH_OF_DEATH"

[[modifier]]
name = "8-Bit Audio"
description = "Audio mode. Incompatible with 4-bit"
type = "menu"
group = "sound"
value = "GAMEPLAY_AUDIO_EIGHT_BIT"
	
[[modifier]]
name = "4-Bit Audio"
description = "Audio mode. Incompatible with 8-bit"
type = "menu"
group = "sound"
value = "GAMEPLAY_AUDIO_FOUR_BIT"

[[modifier]]
name = "Helium Audio"
description = "Audio mode.  Incompatible with Xenon"
type = "menu"
group = "sound"
value = "GAMEPLAY_AUDIO_HELIUM"

[[modifier]]
name = "Xenon Audio"
description = "Audio mode.  Incompatible with Helium"
type = "menu"
group = "sound"
value = "GAMEPLAY_AUDIO_XENON"

[[modifier]]
name = "Desk Pop"
description = "We honor the flag, and you crap on it when you don't shoot your gun https://www.youtube.com/watch?v=wWZTTtE5_zQ"
type = "sequence"
locked = true
[[modifier.begin]]
event = "press"
command = "select_gun"
delay = 1.0
[[modifier.begin]]
event = "hold"
command = "aiming"
delay = 1.0
[[modifier.begin]]
command ="fire/throw"
state = "PRESS"
delay = 0.2
[[modifier.begin]]
command ="aiming"
state = "RELEASE"

[[modifier]]
name = "Double Tap"
description = "It's Rule #2. Everytime a shot is fired, another occurs in quick succession. For Rule #1, see Leeroy Jenkins."
type = "sequence"
time_between_shots = 1.0
blockInSequence = "shoot/throw"
[[modifier.watchdog]]
triggerOn = [ "shoot/throw" ]
triggerThreshold = 1
startTime = 0.2
[[modifier.sequence]]
command = "shoot/throw"
value = 0
timeToNext = 1.0
[[modifier.sequence]]
command = "shoot/throw"
value = 1
timeToNext = 1.2
[[modifier.sequence]]
command = "shoot/throw"
value = 0

[[modifier]]
name = "Use Items"
description = "Shoots or throws 6 of whatever item is currently equipped (will not work on medkits)"
type = "sequence"
[[modifier.begin.initialize]]
command = "aiming"
state = "HOLD"
delay = 1.0
[[modifier.begin.loop]]
repeat = 6
command = "shoot/throw"
state = "HOLD/RELEASE"
delay = 0.25
[[modifier.begin.finalize]]
command = "aiming"
state = "RELEASE"

[[modifier]]
name = "Toss A Molly/Bomb"
description = "Time to riot. Chucks a molly (for Ellie) or bomb (for Abby)."
type = "sequence"
[[modifier.begin]]
command = "disable_joysticks"
[[modifier.begin]]
repeat = 2
command = "select consumable"
state = "PRESS"
value = 1
delay = 3.0
[[modifier.begin]]
command = "shoot/throw"
state = "HOLD"
delay = 0.5
[[modifier.begin]]
command = "shoot/throw"
state = "RELEASE"
	
[[modifier]]
name = "CTG Strat"
description = "Self immolation resulting in death, at least 7/11 times"
type = "sequence"
[[modifier.begin]]
command = "disable_joysticks"
[[modifier.begin]]
command = "vertical camera"
state = "HOLD"
value = 127 # JOYSTICK_MAX
[[modifier.begin]]
command = "horizontal camera"
state = "HOLD"
value = 0
[[modifier.begin]]
repeat = 2
command = "select consumable"
state = "PRESS"
delay = 3.0
[[modifier.begin]]
command = "shoot/throw"
state = "HOLD/RELEASE"
delay = 0.5
[[modifier.begin]]
command = "vertical camera"
state = "HOLD"
value = 0
	
[[modifier]]
name = "Pdub It"
description = "RIP bricks and bottles"
type = "sequence"	
[[modifier.begin]]
command = "disable_joysticks"
[[modifier.begin]]
command = "select consumable"
state = "PRESS"
value = 1
delay = 2.5
[[modifier.begin]]
command = "shoot/throw"
state = "PRESS"
delay = 0.2

[[modifier]]
name = "Chuck Smoke Bomb"
description = "It was taking up space anyway. Does nothing when playing Abby"
type = "sequence"
[[modifier.begin]]
command = "disable_joysticks"
[[modifier.begin]]
repeat = 2
command = "select consumable"
state = "PRESS"
value = -1
delay = 3.0
[[modifier.begin]]
command = "shoot/throw"
state = "PRESS"
delay = 0.2

[[modifier]]
name = "Infinite Hugging"
description = "Hugging enemies from behind forever <3 Enables option Hostages Do Not Escape"
type = "menu"
group = "buff"
value = "COMBAT_HOSTAGES_DONT_ESCAPE"
	
[[modifier]]
name = "No Plus Signs"
description = "Speedrunners need this.  Allies do not get grabbed."
type = "menu"
group = "buff"
value = "COMBAT_ALLIES_DONT_GET_GRABBED"
	
[[modifier]]
name = "Enemies Do Not Flank"
description = "Very effective on infected Kappa"
type = "menu"
group = "buff"
value = "COMBAT_ENEMIES_DONT_FLANK"
	
[[modifier]]
name = "Reduced Enemy Perception"
description = "Finally clickers are truly blind"
type = "menu"
group = "buff"
value = "COMBAT_REDUCED_ENEMY_PERCEPTION"
	
[[modifier]]
name = "Potato Enemies"
description = "Does not work on melee. Turns on Reduced Enemy Accuracy"
type = "menu"
group = "buff"
value = "COMBAT_REDUCED_ENEMY_ACCURACY"
  
[[modifier]]
name = "Enhanced Dodge"
description = "I wish I knew what this does (built-in option)"
type = "menu"
group = "buff"
value = "COMBAT_ENHANCED_DODGE"
	
[[modifier]]
name = "Invisible While Prone"
description = "Proning is now even more OP"
type = "menu"
group = "buff"
value = "COMBAT_INVISBLE_WHILE_PRONE"
	
[[modifier]]
name = "30 fps"
description = "Converting a PS5 to play like PS4"
type = "menu"
value = "DISPLAY_FRAMERATE"
	
[[modifier]]
name = "Camera Assist"
description = "Automatically reorients the camera in the direction of movement."
type = "menu"
value = "ALTERNATE_CAMERA_ASSIST"

[[modifier]]
name = "Aimbot"
description = "Aimbot... but like a detuned aimbot.  Turns on Lock On Aim"
group = "buff"
type = "menu"
value = "ALTERNATE_LOCK_ON_AIM"
	
[[modifier]]
name = "Aimbot Throwables"
description = "Aimbot for throwables. Turns on Lock On Throwables"
type = "menu"
group = "buff"
value = "ALTERNATE_ARC_THROW_LOCK_ON"
	
[[modifier]]
name = "Kleptomania"
description = "Picking up items at inconvenient times. Turns on Auto Pick-Up"
type = "menu"
value = "ALTERNATE_AUTO_PICK_UP"
	
[[modifier]]
name = "Large HUD"
description = "HUD like in a game from the 1990s"
type = "menu"
group = "UI"
value = "MAGNIFICATION_HUD_SCALE"

[[modifier]]
name = "High Contrast Display"
description = "Render mode, but overrides any other render mode"
type = "menu"
group = "render"
value = "MAGNIFICATION_HIGH_CONTRAST"
	
[[modifier]]
name = "Musical Traversal"
description = "Add some music to climbable objects with Traversal Audio Cues"
type = "menu"
group = "sound"
value = "TTS_TRAVERSAL_CUES"
	
[[modifier]]
name = "Musical Combat"
description = "Add some music to combat prompts with Combat Audio Cues"
type = "menu"
group = "sound"
value = "TTS_COMBAT_CUES"

[[modifier]]
name = "Navigation Assistance"
description = "Keeps pointing camera in direction of story progression"
type = "repeat"
begin.set_menu = [ "NAVIGATION_ASSISTANCE", 1 ]
begin.event = [ "BUTTON_L3", 0 ]
finish.set_menu = [ "NAVIGATION_ASSISTANCE", 0 ]
finish.event = [ "BUTTON_L3", 0 ]
update.after = [
       [ 0.1, "BUTTON_L3", 0 ],
       [ 5.0, "BUTTON_L3", 1 ] ]

[[modifier]]
name = "Traversal Assistance"
description = "Climb when you really do not want to"
type = "menu"
value = "NAVIGATION_TRAVERSAL_ASSISTANCE"

[[modifier]]
name = "Enhanced Listen Mode"
description = "Press some buttons while in listen mode to find loot"
type = "menu"
value = "NAVIGATION_ENHANCED_LISTEN_MODE"

[[modifier]]
name = "Infinite Breath"
description = "Yup, very useful and is the most OP perk..."
type = "menu"
value = "NAVIGATION_INFINITE_BREATH"

[[modifier]]
name = "Mute Sound Effects"
description = "Gunshots hurt our ears :("
type = "menu"
group = "sound"
value = "AUDIO_EFFECTS"
enable = -20
disable = 20
	
[[modifier]]
name = "Mute Music"
description = "The music is too intense, let's turn it off!"
type = "menu"
group = "sound"
value = "AUDIO_MUSIC"
enable = -20
disable = 20

[[modifier]]
name = "Mute Dialogue"
description = "Sorry Shannon :("
type = "menu"
group = "sound"
value = "AUDIO_DIALOG"
enable = -20
disable = 20

[[modifier]]
name = "Mono Audio"
description = "No more stereo. Where did that gunshot come from?"
type = "menu"
group = "sound"
value = "AUDIO_MONO"

[[modifier]]
name = "Input Delay"
description = "Introduces a 0.2 second delay to the controller"
type = "delay"
value = 0.2
appliesTo = "ALL"

[[modifier]]
name = "Melee Delay"
description = "Introduces a 0.5 second delay to melee presses"
type = "delay"
value = 0.5
appliesTo = [ "melee" ]

[[modifier]]
name = "Jump Delay"
description = "Introduces a 2.0 second delay to jump/climb presses"
type = "delay"
value = 2.0
appliesTo = [ "jump/climb" ]	

[[modifier]]
name = "Dodge Delay"
description = "Introduces a 0.5 second delay to dodge/sprint"
type = "delay"
value = 0.5
appliesTo = [ "dodge/sprint" ]	

[[modifier]]
name = "Aim Delay"
description = "Introduces a 1 second delay to aiming"
type = "delay"
value = 1.0
appliesTo = [ "aiming" ]	

[[modifier]]
name = "Shooting Delay"
description = "Introduces a 0.5 second delay to shooting and throwing"
type = "delay"
value = 0.5
appliesTo = [ "shoot/throw" ]	

[[modifier]]
name = "Select Delay"
description = "Introduces a 5 second delay to selecting weapons or consumables"
type = "delay"
value = 5.0
appliesTo = [ "select weapon", "select consumable" ]

[[modifier]]
name = "Joystick Delay"
description = "Introduces a 0.2 second delay to movement and aiming"
type = "delay"
value = 0.2
appliesTo = [ "AXIS_RX", "AXIS_RY", "AXIS_LY", "AXIS_LX" ]

[[modifier]]
name = "Mystery"
description = "Applies a random modifier"
type = "parent"
random = true
value = 1

[[modifier]]
name = "Chaos"
description = "Applies 5 random modifiers"
type = "parent"
random = true
value = 5

