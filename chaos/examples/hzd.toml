#---------------------------------------------------------------------------------------------------
# Twitch Controls Chaos (TCC)
# Configuration file to support a TCC  game.
#
# The settings defined here are those that are required to run a specific game through the Chaos
# engine. The basic settings for the engine itself are controlled in the chaosconfig.toml file.
#
# Note that if you edit this file while the chaos engine is running, you must reload the game
# so the chaos engine can re-read the updated file.
#
# chaos_toml: A version string for the TOML file format. Currently used only to verify that we're
# reading the right file.
chaos_toml = "1.0"

# game: User-friendly name of the game this configuration file defines.
game = "Horizon Zero Dawn (PS4)"

# General controller settings
[controller]
# Default time, in seconds, to hold down a button when issuing a command in a sequence.
button_press_time = 0.0625

# Default time, in seconds, to wait after releasing a button before going on to the next command
# in the sequence.
button_release_time = 0.0625

#--------------------------------------------------------------------------------------------------
# Modifier defaults
[mod_defaults]
# Number of modifiers simultaneously in effect
active_modifiers = 3
# Lifetime (exclusive of pauses) of an individual modifier, in seconds.
time_per_modifier = 180.0

# Time (in seconds) before the touchpad will be reset to inactive.
touchpad_inactive_delay = 0.02

# If true, use velocity, if false, use distance for calculation
touchpad_velocity = true

# Multiply touchpad value by this factor
touchpad_scale_x = 0.12
touchpad_scale_y = 0.12

# Skew to add to touchpad result
touchpad_skew = 30

#--------------------------------------------------------------------------------------------------
# Command Mapping
[[command]]
name = "interact"
binding = "TRIANGLE"

[[command]]
name = "dodge"
binding = "CIRCLE"

[[command]]
name = "jump"
binding = "X"

[[command]]
name = "slide"
binding = "SQUARE"

[[command]]
name = "weapon wheel"
binding = "L1"

[[command]]
name = "aiming"
binding = "L2"

[[command]]
name = "light melee"
binding = "R1"

[[command]]
name = "reload" # While aiming
binding = "R1"

[[command]]
name = "heavy melee"
binding = "R2"

[[command]]
name = "shoot" # While aiming
binding = "R2"

[[command]]
name = "sprint"
binding = "L3"

[[command]]
name = "focus"
binding = "R3"

[[command]]
name = "open menu"
binding = "TOUCHPAD"

[[command]]
name = "move sideways"
binding = "LX"

[[command]]
name = "move forward/back"
binding = "LY"

[[command]]
name = "horizontal camera"
binding = "RX"

[[command]]
name = "vertical camera"
binding = "RY"

[[command]]
name = "cycle tools/traps"
binding = "DX"

[[command]]
name = "use"
binding = "DY"

[[command]]
name = "menu"
binding = "OPTIONS"

[[command]]
name = "menu right/left"
binding = "DX"

[[command]]
name = "menu up/down"
binding = "DY"

#--------------------------------------------------------------------------------------------------
# Game Conditions
[[condition]]
name = "aiming"
trueOn = [ "aiming" ]

#--------------------------------------------------------------------------------------------------
# Sequences
#
# Zero out all relevant controls. This is used to stop users from whatever they are doing while
# we take control of the controller.
[[sequence]]
name = "disable all"
sequence = [{ event="release", command = "interact" },            # TRIANGLE
            { event="release", command = "dodge" },               # CIRCLE
            { event="release", command = "jump" },                # X
            { event="release", command = "slide" },               # SQUARE
            { event="release", command = "weapon wheel" },        # L1
            { event="release", command = "aiming" },              # L2
            { event="release", command = "light melee" },         # R1
            { event="release", command = "heavy melee" },         # R2
            { event="release", command = "sprint" },              # L3
            { event="release", command = "focus" },               # R3
            { event="release", command = "move sideways" },       # LX
            { event="release", command = "move forward/back" },   # LY
            { event="release", command = "horizontal camera" },   # RX
            { event="release", command = "vertical camera" },     # RY
            { event="release", command = "cycle tools/traps" },   # DX
            { event="release", command = "use", delay=0.333333 }  # DY
]

# Open the main menu (This sequence must exist with this name if the chaos engine uses the menu.)
[[sequence]]
name = "open menu"
sequence = [ { event="press", command = "menu" },
             { event="delay", delay= 0.05 } ]

# Select a menu item  (This sequence must exist with this name if the chaos engine uses the menu.)
[[sequence]]
name = "menu select"
sequence = [ { event="press", command = "select" },
             { event="delay", delay= 0.05 } ]

# Move to the parent menu. (This sequence must exist with this name if the chaos engine uses the
# menu.)
[[sequence]]
name = "menu exit"
sequence = [ { event="press", command = "deselect" },
             { event="delay", delay= 0.05 } ]

# Navigate upward one item in a list of menu options. (This sequence must exist with this name if
# the chaos engine uses the menu.)
[[sequence]]
name = "menu up"
sequence = [ { event="press", command = "menu up/down", value = -1} ]

# Navigate down one item in a list of menu options.  (This sequence must exist with this name if
# the chaos engine uses the menu.)
[[sequence]]
name = "menu down"
sequence = [ { event="press", command = "menu up/down", value = 1} ]

# Increase a multi-state option one level
[[sequence]]
name = "option greater"
sequence = [ { event="press", command = "menu right/left", value = 1} ]

# Decrease a multi-state option one level
[[sequence]]
name = "option less"
sequence = [ { event="press", command = "menu right/left", value = -1} ]

# Confirm an option after selection. In other words, after an option is selected, this sequence is
# issued to answer a yes/no prompt in the affirmative.
[[sequence]]
name = "confirm"
sequence = [ { event="press", command = "menu right/left", value = -1},
             { event="press", command = "select"} ]

#--------------------------------------------------------------------------------------------------
# Menus
# 
# This section defines the game's menu system.
[menu]
use_menu = false
remember_last = true
hide_guarded_items = false

# === Menu Layout ===

layout = [
#      {name = "", type="option", parent="", offset = 0, initialState = 0},
]

#--------------------------------------------------------------------------------------------------
# Gameplay Modifiers
#
# == Disable Modifiers ==
[[modifier]]
name = "No Reload/Shoot"
description = "Can't reload or draw the bow while aiming."
type = "disable"
groups = [ "combat" ]
applies_to = [ "reload", "shoot" ]
while = [ "aiming" ]

[[modifier]]
name = "No Weapon Wheel"
description = "You can't open the weapon wheel"
type = "disable"
groups = [ "combat" ]
applies_to = [ "weapon wheel" ]

[[modifier]]
name = "Hoarder"
description = "Cannot use bombs or traps"
type = "disable"
groups = [ "combat" ]
applies_to = [ "use" ]
filter = "above"

[[modifier]]
name = "Melee Only"
description = "No projectile weapons, and no inventory items"
type = "parent"
groups = [ "combat" ]
children = [ "No Reload/Shoot", "No Weapon Wheel", "Hoarder" ]

[[modifier]]
name = "Literally Melee Only"
description = "Nothing but melee. Literally"
type = "disable"
groups = [ "combat" ]
applies_to = ["interact", "dodge", "jump", "slide", "weapon wheel", "aiming", "move sideways",
             "move forward/back", "horizontal camera", "vertical camera", "cycle toos/traps", "use"]

[[modifier]]
name = "Pacifist%"
description = "No shooting or melee."
type = "disable"
groups = [ "combat" ]
applies_to = [ "light melee", "heavy melee", "shoot" ]

[[modifier]]
name = "No Jumping"
description = "No climbing or jumping"
type = "disable"
groups = [ "movement" ]
applies_to = [ "jump" ]

[[modifier]]
name = "No Slow-Mo"
description = "No slow motion. Aiming is still allowed"
type = "disable"
groups = [ "combat" ]
applies_to = [ "jump" ]
while = [ "aiming" ]

[[modifier]]
name = "No Multi-Shot"
description = "Double and triple shots are disabled"
type = "disable"
groups = [ "combat" ]
applies_to = [ "reload" ]
while = [ "aiming" ]

[[modifier]]
name = "No Grab"
description = "Swiper no swiping! No looting or interacting with anything. Say goodbye to the everything button."
type = "disable"
groups = [ "interact" ]
applies_to = [ "interact" ]

[[modifier]]
name = "No Crouching"
description = "And you thought you were going to sneak through this area"
type = "disable"
groups = [ "movement" ]
applies_to = [ "crouch" ]
begin_sequence = [ { event = "release", command = "crouch" } ]

[[modifier]]
name = "No Dodge Roll"
description = "Stand and fight!"
type = "disable"
groups = [ "movement" ]
applies_to = [ "dodge" ]
begin_sequence = [ { event = "release", command = "dodge" } ]

[[modifier]]
name = "No Horizontal Aim"
description = "The horizontal camera is disabled"
type = "disable"
groups = [ "view" ]
applies_to = [ "horizontal camera" ]

[[modifier]]
name = "Disable Camera"
description = "Good luck with aiming and looking around!"
type = "disable"
groups = [ "view" ]
applies_to = [ "vertical camera", "horizontal camera" ]

[[modifier]]
name = "Disable D-pad"
description = "Inventory selection is disabled"
type = "disable"
groups = [ "combat", "inventory" ]
applies_to = [ "select weapon", "select consumable" ]

[[modifier]]
name = "Moose"
description = "The moose is dead. The moose does not move. (Disables movement)"
type = "disable"
groups = [ "movement" ]
applies_to = [ "move forward/back", "move sideways" ]

[[modifier]]
name = "Only Strafe Movement"
description = "Side-to-side movement is disabled. Only forward/back motion is allowed."
type = "disable"
groups = [ "movement" ]
applies_to = [ "move sideways" ]

[[modifier]]
name = "No Strafing"
description = "Forwards/back movement is disabled. Only side-to-side motion is allowed."
type = "disable"
groups = [ "movement" ]
applies_to = [ "move forward/back" ]

[[modifier]]
name = "Only Aim Movement"
description = "Movement is disabled if not aiming"
type = "disable"
groups = [ "movement" ]
applies_to = [ "move forward/back", "move sideways" ]
unless = [ "aiming" ]

[[modifier]]
name = "Aim In Place"
description = "Movement is disabled if aiming"
type = "disable"
groups = [ "movement" ]
applies_to = [ "move forward/back", "move sideways" ]
while = [ "aiming" ]

[[modifier]]
name = "No Aiming Camera"
description = "Camera is disabled if aiming"
type = "disable"
groups = [ "view" ]
applies_to = [ "vertical camera", "horizontal camera" ]
while = [ "aiming" ]

[[modifier]]
name = "Nascar"
description = "There is no going right in Nascar. Right movement/camera disabled"
type = "disable"
groups = [ "movement", "view" ]
applies_to = [ "move sideways", "horizontal camera" ]
filter = "above"

[[modifier]]
name = "Zoolander"
description = "We are not an ambiturner, but at least we can look right. Left movement/camera disabled."
type = "disable"
groups = [ "movement", "view" ]
applies_to = [ "move sideways", "horizontal camera" ]
filter = "below"

[[modifier]]
name = "No Backward Movement"
description = "Moving backwards is not allowed"
type = "disable"
groups = [ "movement" ]
applies_to = [ "move forward/back" ]
filter = "above"

[[modifier]]
name = "No Forward Movement"
description = "Moving forward is not allowed"
type = "disable"
groups = [ "movement" ]
applies_to = [ "move forward/back" ]
filter = "below"

# == Scaling Modifiers
[[modifier]]
name = "Inverted"
description = "Inverts the vertical axis for aiming"
type = "scaling"
groups = [ "view" ]
applies_to = [ "vertical camera" ]
amplitude = -1

[[modifier]]
name = "Moonwalk"
description = "Be like Michael Jackson! Trying to walk forward will actually make you go backward."
type = "scaling"
groups = [ "movement" ]
applies_to = [ "move forward/back" ]
amplitude = -1

[[modifier]]
name = "Sideways Moonwalk"
description = "Go left to go right and go right to go left"
type = "scaling"
groups = [ "movement" ]
applies_to = [ "move sideways" ]
amplitude = -1

[[modifier]]
name = "Max Sensitivity"
description = "Goodbye precision aiming. Joystick postions multiplied by 5."
type = "scaling"
groups = [ "movement", "view" ]
applies_to = [ "horizontal movement", "vertical movement", "horizontal camera", "vertical camera"  ]
amplitude = 5.0

[[modifier]]
name = "Min Sensitivity"
description = "It's like slomo, but not for the enemies. Joystick positions divided by 2.5."
type = "scaling"
groups = [ "movement", "view" ]
applies_to = [ "horizontal movement", "vertical movement", "horizontal camera", "vertical camera"  ]
amplitude = 0.4

# == Cooldown Modifiers ==
[[modifier]]
name = "Bad Stamina"
description = "Running is disabled after 2 seconds and takes 4 seconds to recharge."
type = "cooldown"
groups = [ "movement" ]
applies_to = [ "dodge/sprint" ]
while = [ "movement", "sprint" ]
trigger = [ "dodge/sprint", "vertical movement", "horizontal movement" ]
cumulative = true
time_on = 2.0
time_off = 4.0

[[modifier]]
name = "Snapshot"
description = "You can only aim for 1 second at a time, so take that shot quickly."
type = "cooldown"
groups = [ "combat" ]
applies_to = [ "aiming" ]
trigger = [ "aiming" ]
time_on = 1.0
time_off = 3.0

# == Repeat Modifiers ==
[[modifier]]
name = "Factions Pro"
description = "Keeping things toxic with teabagging"
type = "repeat"
groups = [ "movement" ]
applies_to = [ "crouch" ]
time_on = 0.1
time_off = 0.6
begin_sequence = [{ event = "release", command = "crouch" }]
finish_sequence = [{ event = "release", command = "crouch" }]

[[modifier]]
name = "Keep Jumping"
description = "Repeated presses of jump"
type = "repeat"
groups = [ "movement" ]
applies_to = [ "jump" ]
time_on = 0.1
time_off = 2.0
begin_sequence = [{ event = "release", command = "jump" }]
finish_sequence = [{ event = "release", command = "jump" }]

[[modifier]]
name = "Rachy Flail"
description = "The only way to melee is to follow the master techniques of RachyMonster"
type = "repeat"
groups = [ "combat" ]
applies_to = [ "melee" ]
time_on = 0.1
time_off = 1.2
begin_sequence = [{ event = "release", command = "melee" }]
finish_sequence = [{ event = "release", command = "melee" }]

[[modifier]]
name = "Keep Dodging"
description = "Repeaated dodges. Don't stand too near a ledge"
type = "repeat"
groups = [ "movement" ]
applies_to = [ "dodge" ]
time_on = 0.1
time_off = 2.0
begin_sequence = [{ event = "release", command = "dodge" }]
finish_sequence = [{ event = "release", command = "dodge" }]

[[modifier]]
name = "Periodic Focus Mode"
description = "Stop, look, listen to your heart, hear what it's saying."
type = "repeat"
groups = [ "view" ]
applies_to = [ "focus" ]
time_on = 3.0
time_off = 8.0
begin_sequence = [{ event = "release", command = "swap/listen" }]
finish_sequence = [{ event = "release", command = "swap/listen" }]

[[modifier]]
name = "Force Running"
description = "To move is to run (mostly)"
type = "repeat"
groups = [ "movement" ]
applies_to = [ "dodge/sprint" ]
time_on = 4.0
time_off = 0.1
force_on = [ 1 ]
begin_sequence = [{ event = "release", command = "dodge/sprint" }]
finish_sequence = [{ event = "release", command = "dodge/sprint" }]

[[modifier]]
name = "Leeroy Jenkins"
description = "Alright let's do this! LEEEEROOOOOY NNNJEEEENNKIINNS!!! (Holds forward and sprint)"
type = "repeat"
groups = [ "movement" ]
applies_to = [ "dodge/sprint" ]
begin_sequence = [ { event="release", command = "dodge/sprint"},
      { event ="hold", command = "move forward/back", value = -128 } ]
force_on = [ 1, -128 ]
block_while_busy = [ "vertical movement" ]
time_on = 4.0
time_off = 0.1
finish_sequence = [ { event="release", command = "move forward/back"},
       { event="release", command = "dodge/sprint"}  ]

[[modifier]]
name = "Force Aiming"
description = "The aiming button is held"
type = "repeat"
groups = [ "combat" ]
applies_to = [ "aiming" ]
time_on = 4.0
time_off = 0.1
force_on = [ 1 ]

# == Remap Modifiers ==
[[modifier]]
name = "D-pad Rotate"
description = "Rotates the D-pad inputs clockwise"
type = "remap"
remap = [
      {from = "DX", to = "DY"},
      {from = "DY", to = "DX", invert = true} ]

[[modifier]]
name = "Swap Joysticks"
description = "You may want to cross your thumbs to work with your muscle memory"
type = "remap"
remap = [
      {from = "RX", to = "LX"},
      {from = "RY", to = "LY"},
      {from = "LX", to = "RX"},
      {from = "LY", to = "RY"} ]

[[modifier]]
name = "Criss-Cross Joysticks"
description = "Swap vertical and horizontal joystick axes. Up and down are now left and right."
type = "remap"
remap = [
      {from = "RX", to = "RY"},
      {from = "RY", to = "RX"},
      {from = "LX", to = "LY"},
      {from = "LY", to = "RX"} ]

[[modifier]]
name = "Swap D-Pad/Left Joystick"
description = "Retro-style motion and an odd analog inventory selector"
type = "remap"
signals = [ "LX", "LY" ]
disable_signals = true
remap = [
      {from = "DX", to = "LX"},
      {from = "DY", to = "LY"},
      {from = "LX", to = "DX"},
      {from = "LY", to = "DY"} ]

[[modifier]]
name = "Swap Shapes/Right Joystick"
description = "Analog actions and digital camera movement"
type = "remap"
signals = [ "RX", "RY" ]
disable_signals = true
remap = [
      {from = "RX", to = "SQUARE", to_neg = "CIRCLE", threshold=0.5},
      {from = "RY", to = "X", to_neg = "TRIANGLE", threshold=0.5},
      {from = "SQUARE", to = "RX", to_min = true},
      {from = "CIRCLE", to = "RX"},
      {from = "TRIANGLE", to = "RY", to_min = true},
      {from = "X", to = "RY"} ]

[[modifier]]
name = "Motion Control Movement"
description = "No more movement with the joystick. Tilt the controller to move instead."
type = "remap"
remap = [
      {from = "ACCX", to = "LX", sensitivity=20},
      {from = "ACCZ", to = "LY", sensitivity=20},
      {from = "LX", to = "NOTHING"},
      {from = "LY", to = "NOTHING"}
      ]

[[modifier]]
name = "Motion Control Aiming"
description = "No more aiming with the joystick. Tilt the controller to aim/look instead."
type = "remap"
remap = [
      {from = "ACCX", to = "RX", sensitivity=24},
      {from = "ACCZ", to = "RY", sensitivity=24},
      {from = "RX", to = "NOTHING"},
      {from = "RY", to = "NOTHING"}
      ]

[[modifier]]
name = "Touchpad Aiming"
description = "No more aiming with the joystick. Finally making use of the touchpad!"
type = "remap"
disable_signals = [ "RX", "RY" ]
remap = [
      {from = "TOUCHPAD_ACTIVE", to="NOTHING"},
      {from = "TOUCHPAD_X", to="RX"},
      {from = "TOUCHPAD_Y", to="RY"},
      {from = "RX", to="NOTHING"},
      {from = "RY", to="NOTHING"}
      ]

[[modifier]]
name = "Controller Mirror"
description = "Left and right joysticks are swapped. R2 is now L2. Circle is D-pad left, etc."
type = "remap"
remap = [
      {from = "LX", to = "RX"},
      {from = "LY", to = "RY"},
      {from = "RX", to = "LX"},
      {from = "RY", to = "LY"},
      {from = "DX", to = "SQUARE", to_neg = "CIRCLE"},
      {from = "DY", to = "X", to_neg = "TRIANGLE"},
      {from = "R1", to = "L1"},
      {from = "L1", to = "R1"},
      {from = "L2", to = "R2"},
      {from = "R2", to = "L2"},
      {from = "SQUARE", to = "DX", to_min = true},
      {from = "CIRCLE", to = "DX"},
      {from = "TRIANGLE", to = "DY", to_min = true},
      {from = "X", to = "DY"} ]

[[modifier]]
name = "Controller Flip"
description = "Up is down. Joysticks and D-pad inverted vertially, L1 swapped with L2, Triangle swapped with X, etc."
type = "remap"  
remap = [
      {from = "DY", to = "DY", invert = true},
      {from = "LY", to = "LY", invert = true},
      {from = "RY", to = "RY", invert = true},
      {from = "R1", to = "R2"},
      {from = "L1", to = "L2"},
      {from = "R2", to = "R1"},
      {from = "L2", to = "L1"},
      {from = "TRIANGLE", to = "X"},
      {from = "X", to = "TRIANGLE"}
      ]

[[modifier]]
name = "Shape Shuffle"
description = "Randomly remaps the shape buttons (square, circle, triangle, X)"
type = "remap"
random_remap = [ "X", "SQUARE", "CIRCLE", "TRIANGLE" ]

[[modifier]]
name = "Random Remap"
description = "Randomly remaps buttons (square, circle, triangle, X, L1, R1, L2, R2, L3, R3)"
type = "remap"
random_remap = [ "X", "SQUARE", "CIRCLE", "TRIANGLE", "L1", "L2", "L3", "R1", "R2", "R3" ]
  
[[modifier]]
name = "Trigger Remap"
description = "Randomly remaps trigger/bumper buttons (L1, R1, L2, R2)"
type = "remap"  
random_remap = [ "L1", "L2", "R1", "R2" ]

# === Formula Modifiers ===
[[modifier]]
name = "Random Movement"
description = "Random joystick motion"
type = "formula"
applies_to = [ "horizontal movement", "vertical movement", "horizontal camera", "vertical camera"  ]
groups = [ "movement", "view" ]
formula_type = "janky"
amplitude = 0.6
period_length = 5.0

[[modifier]]
name = "Mega Scope Sway"
description = "Good luck landing shots"
type = "formula"
groups = [ "combat", "view" ]
applies_to = [ "horizontal camera", "vertical camera" ]
while =  [ "aiming" ]
formula_type = "eight_curve"
period_length = 0.5 
amplitude = 0.5

# === Sequence Modifier ===
[[modifier]]
name = "Desk Pop"
description = "We honor the flag, and you crap on it when you don't shoot your gun https://www.youtube.com/watch?v=wWZTTtE5_zQ"
type = "sequence"
groups = [ "combat" ]
block_while_busy = "ALL"
begin_sequence = [
  { event = "press", command = "select weapon", delay = 1.0 },
  { event = "hold", command = "aiming", delay = 1.0 },
  { event = "press", command ="shoot" },
  { event = "release", command = "aiming" }
  ]

[[modifier]]
name = "Stumblebum"
description = "Fast movement will make you go prone"
type = "sequence"
groups = [ "movement"]
block_while_busy = [ "dodge/sprint", "crouch/prone" ]
while = [ "fast movement" ]
trigger = [ "vertical movement", "horizontal movement", "dodge/sprint" ]
cycle_delay = 1.0
repeat_sequence = [  
  { event = "press", command = "dodge/sprint", delay = 0.1 },
  { event = "press", command = "crouch/prone", delay = 0.8 },
  { event = "release", command = "crouch/prone"},
  { event = "release", command = "dodge/sprint"}
  ]
begin_sequence = [ { event = "release", command = "dodge/sprint" },
                  { event = "release", command = "crouch/prone" }]
finish_sequence = [{ event = "release", command = "dodge/sprint" },
                  { event = "release", command = "crouch/prone" }]

[[modifier]]
name = "Double Tap"
description = "It's Rule #2. Everytime a shot is fired, another occurs in quick succession. For Rule #1, see Leeroy Jenkins."
type = "sequence"
groups = [ "combat" ]
block_while_busy = [ "aiming", "shoot" ]
while = [ "aiming" ]
trigger = [ "shoot" ]
start_delay = 0.2
repeat_sequence = [
  { event = "release", command = "shoot", delay = 1.0 },
  { event = "hold", command = "shoot", delay = 0.2 },
  { event = "release", command = "shoot" }
  ]

[[modifier]]
name = "Use Items"
description = "Shoots or throws 6 of whatever item is currently equipped. No effect for medkits."
type = "sequence"
groups = [ "combat", "inventory" ]
block_while_busy = [ "aiming", "reload/toss" ]
begin_sequence = [
  { event="hold", command = "aiming", delay = 1.0 },
  { event="press", command = "shoot", repeat = 6, delay = 0.25 },
  { event="release", command = "aiming" }
  ]

[[modifier]]
name = "Rubbernecking"
description = "Woah! What's behind you? Invokes a periodic, 180-degree quick turn."
type = "sequence"
groups = [ "movement" ]
block_while_busy = [ "jump", "aiming", "vertical movement", "horizontal movement" ]
start_delay = 6.0
cycle_delay = 0.1
repeatSequence = [
   { event = "release", command = "jump" },
   { event = "release", command = "aiming" },
   { event = "hold", command = "move forward/back" },
   { event = "release", command = "move sideways" },
   { event = "hold", command = "jump", delay = 0.1 },
   { event = "release", command = "jump" }
   ]

# === Delay Modifiers ===
[[modifier]]
name = "Input Delay"
description = "Introduces a 0.2 second delay to the controller"
type = "delay"
groups = [ "debuff", "movement", "view", "inventory", "combat" ]
applies_to = "ALL"
delay = 0.2

[[modifier]]
name = "Melee Delay"
description = "Introduces a 0.5 second delay to melee presses"
type = "delay"
groups = [ "debuff", "combat" ]
applies_to = [ "light melee", "heavy melee" ]
delay = 0.5

[[modifier]]
name = "Jump Delay"
description = "Introduces a 2.0 second delay to jump presses"
type = "delay"
groups = [ "debuff", "movement" ]
applies_to = [ "jump" ]  
delay = 2.0

[[modifier]]
name = "Dodge Delay"
description = "Introduces a 0.5 second delay to dodging"
type = "delay"
groups = [ "debuff", "movement" ]
applies_to = [ "dodge" ]  
delay = 0.5

[[modifier]]
name = "Aim Delay"
description = "Introduces a 1 second delay to aiming"
type = "delay"
groups = [ "debuff", "combat" ]
applies_to = [ "aiming" ]  
delay = 1.0

[[modifier]]
name = "Shooting Delay"
description = "Introduces a 0.5 second delay to shooting"
type = "delay"
groups = [ "debuff", "combat" ]
applies_to = [ "shoot" ]  
delay = 0.5

[[modifier]]
name = "Select Delay"
description = "Introduces a 5 second delay to selecting weapons or consumables"
type = "delay"
groups = [ "debuff", "inventory" ]
applies_to = [ "select weapon", "select consumable" ]
delay = 5.0

[[modifier]]
name = "Joystick Delay"
description = "Introduces a 0.2 second delay to movement and aiming."
type = "delay"
groups = [ "debuff", "movement", "view" ]
applies_to = [ "move sideways", "move forward/back", "horizontal camera", "vertical camera"  ]
delay = 0.2

#=== Parent Modifiers ===
[[modifier]]
name = "Mystery"
description = "Applies a random modifier"
type = "parent"
random = true
value = 1

[[modifier]]
name = "Chaos"
description = "Applies 5 random modifiers"
type = "parent"
random = true
value = 5

[[modifier]]
name = "Drunk"
description = "Random joystick motion. Also don't push things too far, or you may stumble (go prone)"
type = "parent"
groups = [ "movement", "view" ]
children = ["Random Movement", "Stumblebum"]


